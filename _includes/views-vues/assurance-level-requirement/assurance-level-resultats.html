<!--Results-->
<section>

<h2>{{ site.Results[ page.lang ] }}</h2>

<!-- Results table -->
<table class="table table-bordered table-condensed">
<thead>
  <tr>
  {% assign rowNumber = 1 %}
  <th id="r{{ rowNumber }}h1">{{ page.detail["1"] }}</th>
  <td id="D1"></td>
  <th id="r{{ rowNumber }}h3">{{ page.detail["2"] }}</th>
  <td id="D2"></td>
  </tr>
  <tr>
  {% assign rowNumber = rowNumber | plus: 1 %}
  <th id="r{{ rowNumber }}h1">{{ page.detail["3"] }}</th>
  <td id="D3"></td>
  <th id="r{{ rowNumber }}h3">{{ page.detail["4"] }}</th>
  <td id="D4">{{ "now" | date: "%Y-%m-%d" }}</td>
  </tr>
</thead>
<tbody>
<tr>
{% assign rowNumber = rowNumber | plus: 1 %}
{% assign headerRowNumber = rowNumber %}
<th id="r{{ headerRowNumber }}h1">{{ site.Criteria[ page.lang ] }}</th>
<th id="r{{ headerRowNumber }}h2">{{ page.level }}</th>
<th id="r{{ headerRowNumber }}h3">{{ page.assessment }}</th>
<th id="r{{ headerRowNumber }}h4">{{ page.rational }}</th>
</tr>
{% for questionNumber in (1..8) %}{%
  assign questionNumberString = questionNumber | downcase %}{%
  assign questionString = page.questions[ questionNumberString ] %}{%
  assign rowNumber = rowNumber | plus: 1
%}<tr class="question-{{ questionNumber }}-ele question-row">
<th headers="r1h1" id="r{{ rowNumber }}h1">{{ questionString }}</th>
<td style="text-align: center; font-size: 30px;" class="Q{{ questionNumber }}-level">
  {% for level in (0..4) %}
  <span id="Q{{ questionNumber }}-L{{ level }}" class="hidden assurance-level-element"> {{ level }}</span>
  {% endfor %}
  <span id="Q{{ questionNumber }}-NA" class="hidden"> N/A</span>
</td>
<td class="Q{{ questionNumber }}-assessment">
  {% for level in (0..4) %}{%
    assign assesmentString = questionNumberString | append: "-a" | append: level
  %}<span id="Q{{ questionNumber }}-A{{ level }}" class="hidden">{{ page.questions[assesmentString] }}</span>{%
  endfor %}
</td>
<td><span id="Q{{ questionNumber }}-rational"></span></td>
</tr>{%
endfor %}

<!-- Summary row -->
<tr style="border: solid; border-width: 2px;">
<th headers="r{{ headerRowNumber }}h1" id="r{{ rowNumber }}h1">{{ page.overallAssesment }}</th>
<td headers="r{{ headerRowNumber }}h2" id="r{{ rowNumber }}h2" style="text-align: center; font-size: 30px;" class="wb-calculate" data-wb-calculate='{ "onInit": true, "eventTrigger": "removeClass.action.wb-fieldflow", "operations": [
    { "type": "max", "query": ".question-row:not(.hidden) .assurance-level-element:not(.hidden)", "outputTarget": "#max-assurance-level-used" }]}'>
  <span id="max-assurance-level-used">0</span>
</td>
<td></td>
</tr>

</tbody>
</table>

</section>
